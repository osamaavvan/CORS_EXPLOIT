<!DOCTYPE html>
<html>
<head>
	<title>CORS</title>
	<link rel="stylesheet" type="text/css" href="https://bootswatch.com/4/cyborg/bootstrap.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<div>
<div class="row">
          <div class="col-lg-6">
            <div class="bs-component">
              <form>
                <fieldset>
                  <legend>CORS</legend>
                  <div class="form-group">
                    <label for="exampleInputEmail1">URL</label>
                    <input type="text" class="form-control" id="url" aria-describedby="emailHelp" placeholder="Enter URL" required="">
                  </div>
                  <div class="form-group">
                    <label for="exampleSelect1">Method</label>
                    <select class="form-control" id="method">
                      <option value="GET" selected>GET</option>
                      <option value="POST">POST</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="exampleSelect2">Cookies</label>
                    <select multiple="" class="form-control" id="cookies">
                      <option value="include" selected>Yes</option>
                      <option value="omit">No</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="exampleTextarea">POST Data</label>
                    <textarea class="form-control" id="data" rows="3"></textarea>
                  </div>
                  <button type="submit" id="go" class="btn btn-primary">Submit</button>
                </fieldset>
              </form>
            </div>
          </div>
         
        </div>

        <div class="row">
        	<div class="col-lg-10">
        		<h4>Result</h4>
        		<div id="res" style="background-color: white; color: green; font-size: 18px; overflow-y: scroll; height: 380px; width: 100%;">
        			<p id="result"></p>
        		</div>
        	</div>
        </div>

</div>

<script type="text/javascript">
	
var $ = s => document.querySelector(s);

function getData(url, opt) {
	fetch(url, opt).then(res => res.text()).then(res => $("#result").innerText = res)
}

$("form").onsubmit = e => {
	e.preventDefault()

	var url = $("#url").value
	var method = $("#method").value

	var opt = {
		method,
		credentials: $("#cookies").value
	}

	method == "POST" ? opt.body = $("#data").value : ""

	getData(url, opt)
}

</script>

</body>
</html>
